import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as t,e}from"./app-EmiueMq6.js";const a={},l=e(`<h1 id="solidity-中的单位" tabindex="-1"><a class="header-anchor" href="#solidity-中的单位"><span>Solidity 中的单位</span></a></h1><p>在 Solidity 中，我们会频繁地与不同的单位打交道，尤其是在涉及到以太坊区块链的货币单位时。以太币 (Ether) 是以太坊的原生货币，通常用于支付交易费用、部署合约等。在 Solidity 中，货币单位和时间单位是最常用的两种类型。<!-- more --></p><p>让我们详细讲解一下这些单位：</p><h2 id="货币单位" tabindex="-1"><a class="header-anchor" href="#货币单位"><span>货币单位</span></a></h2><p>以太坊的货币单位类似于现实世界中的货币单位，1 ETH (以太币) 也可以被分割成更小的单位。在 Solidity 中，货币单位有以下几种：</p><ul><li><strong>wei</strong>：最小的货币单位。1 wei 是以太坊中最小的计量单位，相当于一分钱中的一分。</li><li><strong>gwei</strong>：1 gwei = 1,000,000,000 wei，通常用作计算 gas 费用时的单位，因为它比 wei 更直观。</li><li><strong>ether</strong>：最常用的单位，代表一个完整的以太币。1 ether = 1,000,000,000,000,000,000 (1e18) wei。</li></ul><p>在 Solidity 中，写这些单位时直接使用它们的名称即可，编译器会自动转换。例如：</p><div class="language-solidity line-numbers-mode" data-highlighter="shiki" data-ext="solidity" data-title="solidity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;">uint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> amountInWei </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wei</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;      </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 1 wei</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;">uint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> amountInGwei </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> gwei</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;    </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 1 gwei = 1,000,000,000 wei</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;">uint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> amountInEther </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ether</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 1 ether = 1,000,000,000,000,000,000 wei</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="小故事时间" tabindex="-1"><a class="header-anchor" href="#小故事时间"><span><strong>小故事时间：</strong></span></a></h3><p>有一个开发者新手想发送 1 ether 到另一个地址，却不小心写成了 <code>1 wei</code>，结果对方收到的钱少得连小猫都不够买！所以，大家一定要注意单位，不然会闹出“买不起小猫”的笑话哦！</p><h2 id="时间单位" tabindex="-1"><a class="header-anchor" href="#时间单位"><span>时间单位</span></a></h2><p>在 Solidity 中，时间单位也有标准的表示方法，这些单位使代码更容易阅读和维护。常用的时间单位如下：</p><ul><li><strong>seconds</strong>：秒</li><li><strong>minutes</strong>：1 minute = 60 seconds</li><li><strong>hours</strong>：1 hour = 60 minutes = 3,600 seconds</li><li><strong>days</strong>：1 day = 24 hours = 86,400 seconds</li><li><strong>weeks</strong>：1 week = 7 days</li><li><strong>years</strong>：1 year = 365 days（不考虑闰年）</li></ul><p>这些单位可以帮助我们编写涉及时间的智能合约，例如延迟支付、锁定合约等。以下是一个简单的示例：</p><div class="language-solidity line-numbers-mode" data-highlighter="shiki" data-ext="solidity" data-title="solidity" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;">uint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> startTime </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> now</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;            </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 合约部署时的当前时间 (已弃用 now，可用 block.timestamp 代替)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;">uint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lockTime </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> weeks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;         </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 锁定 1 周</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;">uint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> releaseTime </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> startTime </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lockTime;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span><strong>注意事项：</strong></span></a></h3><p>虽然 Solidity 提供了时间单位，但我们在实际应用时要特别小心，尤其是涉及“秒”级时间精度时，因为以太坊区块链的区块时间并不稳定。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>这一小节我们介绍了 Solidity 中常用的一些单位，包括货币单位和时间单位。Solidity 中提供的货币和时间单位让代码更具可读性，避免了我们手动进行复杂的单位转换。然而，在开发的时候仍需谨慎，确保单位的使用正确，避免发生意外错误。</p>`,19),n=[l];function h(r,d){return s(),t("div",null,n)}const k=i(a,[["render",h],["__file","1-01.Solidity中的单位.html.vue"]]),c=JSON.parse('{"path":"/Solidity%E7%95%AA%E5%A4%96/1-01.Solidity%E4%B8%AD%E7%9A%84%E5%8D%95%E4%BD%8D.html","title":"1-01.Solidity中的单位","lang":"zh-CN","frontmatter":{"title":"1-01.Solidity中的单位","date":"2024-09-22T00:00:00.000Z","categories":["Solidity","番外"],"author":"花千树","description":"在 Solidity 中，我们会频繁地与不同的单位打交道，尤其是在涉及到以太坊区块链的货币单位时。以太币 (Ether) 是以太坊的原生货币，通常用于支付交易费用、部署合约等。在 Solidity 中，货币单位和时间单位是最常用的两种类型。","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/Solidity%E7%95%AA%E5%A4%96/1-01.Solidity%E4%B8%AD%E7%9A%84%E5%8D%95%E4%BD%8D.html"}],["meta",{"property":"og:site_name","content":"花千树"}],["meta",{"property":"og:title","content":"1-01.Solidity中的单位"}],["meta",{"property":"og:description","content":"在 Solidity 中，我们会频繁地与不同的单位打交道，尤其是在涉及到以太坊区块链的货币单位时。以太币 (Ether) 是以太坊的原生货币，通常用于支付交易费用、部署合约等。在 Solidity 中，货币单位和时间单位是最常用的两种类型。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-22T12:29:10.000Z"}],["meta",{"property":"article:author","content":"花千树"}],["meta",{"property":"article:published_time","content":"2024-09-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-22T12:29:10.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"1-01.Solidity中的单位\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-09-22T00:00:00.000Z\\",\\"dateModified\\":\\"2024-09-22T12:29:10.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"花千树\\"}]}"]]},"headers":[{"level":2,"title":"货币单位","slug":"货币单位","link":"#货币单位","children":[{"level":3,"title":"小故事时间：","slug":"小故事时间","link":"#小故事时间","children":[]}]},{"level":2,"title":"时间单位","slug":"时间单位","link":"#时间单位","children":[{"level":3,"title":"注意事项：","slug":"注意事项","link":"#注意事项","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1727008150000,"updatedTime":1727008150000,"contributors":[{"name":"huaqianshu","email":"huaqianshu.lm@gmail.com","commits":1}]},"readingTime":{"minutes":4.81,"words":721},"filePathRelative":"Solidity番外/1-01.Solidity中的单位.md","localizedDate":"2024年9月22日","excerpt":"\\n<p>在 Solidity 中，我们会频繁地与不同的单位打交道，尤其是在涉及到以太坊区块链的货币单位时。以太币 (Ether) 是以太坊的原生货币，通常用于支付交易费用、部署合约等。在 Solidity 中，货币单位和时间单位是最常用的两种类型。</p>\\n","autoDesc":true}');export{k as comp,c as data};
